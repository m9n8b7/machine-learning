#import the library
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd

#dataset 
dataset = pd.read_csv("mieszkania2.csv")
X = dataset.iloc[:, :-1].values
y = dataset.iloc[:, 5].values

#data preprocessing
from sklearn.preprocessing import LabelEncoder
labelencoder = LabelEncoder()
X[:, 0] = labelencoder.fit_transform(X[:, 0])

from sklearn.preprocessing import OneHotEncoder
onehotencoder = OneHotEncoder(categorical_features = [0])
X = onehotencoder.fit_transform(X).toarray()

from sklearn.model_selection import train_test_split
X_train, X_test, y_train, y_test = train_test_split(X,y, test_size=0.2, random_state=0)

from sklearn.preprocessing import StandardScaler
sc = StandardScaler()
X_train = sc.fit_transform(X_train)
X_test = sc.transform(X_test)

#PCA

from sklearn.decomposition import PCA
pca= PCA(n_components= 2)
X_train = pca.fit_transform(X_train)
X_test = pca.fit_transform(X_test)
explainded_variance= pca.explained_variance_ratio_
#ude it to see hom=w many variables do we need.
#we may see that only one is enought but let's take two.

#regression
from sklearn.linear_model import LogisticRegression
classifier=LogisticRegression(random_state=0)
classifier.fit(X_train, y_train)

y_pred= classifier.predict(X_test)

from sklearn.metrics import confusion_matrix
cm = confusion_matrix(y_test, y_pre
