#import library
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import math

#dataset
dataset = pd.read_csv("klikniecia.csv")

R=39
d=5
photo_selected=[]
number_of_selection= [0]*d
sum_of_reward = [0]*d
total_reward=0
for r in range (0,R):
    max_upper_bound=0
    photo=0
    for i in range (0,d):
        if (number_of_selection[i]>0):
            average_reward=sum_of_reward[i]/number_of_selection[i]
            delta_i=math.sqrt(3/2*math.log(r+1)/number_of_selection[i])
            upper_bound= average_reward + delta_i
        else:
            upper_bound=1e400
        if max_upper_bound < upper_bound:
            max_upper_bound=upper_bound
            photo=i
    photo_selected.append(photo)
    number_of_selection[photo]= number_of_selection[photo]+1
    reward = dataset.values[r, photo]
    sum_of_reward[photo] = sum_of_reward[photo] + reward
    total_reward = total_reward + reward

# Visualising the results
plt.hist(photo_selected)
plt.title("Histogram of photo selections")
plt.xlabel("photo")
plt.ylabel("number_cliks")
plt.show()
